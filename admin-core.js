/* Obfuscated by J2TEAM.org */const _0x579512=_0x4878;function _0x4878(_0x3329f5,_0xbd7f3c){_0x3329f5=_0x3329f5-0x11a;const _0x360b4d=_0x360b();let _0x4878e5=_0x360b4d[_0x3329f5];return _0x4878e5;}(function(_0x11d6f4,_0x33b914){const _0x49a3f1=_0x4878,_0x5413a3=_0x11d6f4();while(!![]){try{const _0x400c89=-parseInt(_0x49a3f1(0x11a))/0x1*(parseInt(_0x49a3f1(0x11f))/0x2)+parseInt(_0x49a3f1(0x13a))/0x3*(-parseInt(_0x49a3f1(0x123))/0x4)+-parseInt(_0x49a3f1(0x14c))/0x5*(parseInt(_0x49a3f1(0x147))/0x6)+-parseInt(_0x49a3f1(0x11d))/0x7+parseInt(_0x49a3f1(0x153))/0x8*(-parseInt(_0x49a3f1(0x124))/0x9)+-parseInt(_0x49a3f1(0x11e))/0xa*(parseInt(_0x49a3f1(0x142))/0xb)+parseInt(_0x49a3f1(0x130))/0xc;if(_0x400c89===_0x33b914)break;else _0x5413a3['push'](_0x5413a3['shift']());}catch(_0x518867){_0x5413a3['push'](_0x5413a3['shift']());}}}(_0x360b,0x6b189));import{auth,db}from'./firebase-config.js';import{signInWithEmailAndPassword,signOut,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';function _0x360b(){const _0x3fd6c6=['amount-input','34514268RYTEMu','Admin\x20Deposit','empty','tokens','message','history','exists','add','onclick','hidden','3jvyaPf','login-error','update','login-section','email','Success','docs','search-email','11eZIcnV','value','remove','btn-search','Vui\x20lòng\x20nhập\x20Email!','26382lXtRcs','classList','textContent','Lỗi\x20tìm\x20kiếm:\x20','res-uid','175HXLorH','admin-email','error','Đang\x20tìm...','res-email','Xác\x20nhận\x20cộng\x20','get','2192PGZDgX','6367tTrfft','disabled','data','747530JWAbXz','6863810wNxVCE','222QWlqmn','btn-logout-admin','uid','User\x20không\x20tồn\x20tại!','814652EUJxNI','19053UdpEQj','trim','getElementById','✅\x20XÁC\x20NHẬN\x20CỘNG\x20TIỀN','TÌM','✅\x20Thành\x20công!\x20Đã\x20cộng\x20token.','Sai\x20thông\x20tin\x20hoặc\x20không\x20có\x20quyền!','users','Số\x20token\x20không\x20hợp\x20lệ!','Không\x20tìm\x20thấy\x20người\x20chơi\x20này!','set'];_0x360b=function(){return _0x3fd6c6;};return _0x360b();}import{collection,query,where,getDocs,doc,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';const loginSection=document[_0x579512(0x126)](_0x579512(0x13d)),dashboardSection=document[_0x579512(0x126)]('dashboard-section'),loginError=document[_0x579512(0x126)](_0x579512(0x13b));onAuthStateChanged(auth,_0x1f3f36=>{const _0x4eafac=_0x579512;_0x1f3f36?(loginSection[_0x4eafac(0x148)][_0x4eafac(0x137)](_0x4eafac(0x139)),dashboardSection[_0x4eafac(0x148)][_0x4eafac(0x144)]('hidden')):(loginSection[_0x4eafac(0x148)][_0x4eafac(0x144)](_0x4eafac(0x139)),dashboardSection[_0x4eafac(0x148)]['add'](_0x4eafac(0x139)));});const btnLogin=document['getElementById']('btn-login');btnLogin&&(btnLogin['onclick']=async()=>{const _0xdaa4d=_0x579512,_0x35aaed=document[_0xdaa4d(0x126)](_0xdaa4d(0x14d))[_0xdaa4d(0x143)],_0x1e5b4f=document['getElementById']('admin-pass')[_0xdaa4d(0x143)];try{await signInWithEmailAndPassword(auth,_0x35aaed,_0x1e5b4f);}catch(_0x4d0e46){loginError['textContent']=_0xdaa4d(0x12a),loginError['classList'][_0xdaa4d(0x144)]('hidden');}});const btnLogout=document[_0x579512(0x126)](_0x579512(0x120));if(btnLogout)btnLogout[_0x579512(0x138)]=()=>signOut(auth);let currentTargetUser=null;const btnSearch=document[_0x579512(0x126)](_0x579512(0x145)),resultBox=document[_0x579512(0x126)]('user-result');btnSearch&&(btnSearch[_0x579512(0x138)]=async()=>{const _0x33e44b=_0x579512,_0x5cff09=document[_0x33e44b(0x126)](_0x33e44b(0x141))[_0x33e44b(0x143)][_0x33e44b(0x125)]();if(!_0x5cff09)return alert(_0x33e44b(0x146));btnSearch[_0x33e44b(0x149)]=_0x33e44b(0x14f),resultBox[_0x33e44b(0x148)][_0x33e44b(0x137)](_0x33e44b(0x139)),currentTargetUser=null;try{const _0x3472bd=query(collection(db,_0x33e44b(0x12b)),where('email','==',_0x5cff09)),_0x5c733b=await getDocs(_0x3472bd);if(_0x5c733b[_0x33e44b(0x132)])alert(_0x33e44b(0x12d));else{const _0x51ecea=_0x5c733b[_0x33e44b(0x140)][0x0],_0x58026e=_0x51ecea[_0x33e44b(0x11c)]();currentTargetUser={'uid':_0x51ecea['id'],'email':_0x58026e[_0x33e44b(0x13e)],'tokens':_0x58026e[_0x33e44b(0x133)]||0x0},document[_0x33e44b(0x126)](_0x33e44b(0x150))[_0x33e44b(0x149)]=currentTargetUser[_0x33e44b(0x13e)],document['getElementById'](_0x33e44b(0x14b))[_0x33e44b(0x149)]=currentTargetUser[_0x33e44b(0x121)],document[_0x33e44b(0x126)]('res-tokens')[_0x33e44b(0x149)]=currentTargetUser[_0x33e44b(0x133)],resultBox[_0x33e44b(0x148)]['remove']('hidden');}}catch(_0x332e4e){console[_0x33e44b(0x14e)](_0x332e4e),alert(_0x33e44b(0x14a)+_0x332e4e['message']);}finally{btnSearch[_0x33e44b(0x149)]=_0x33e44b(0x128);}});const btnAddToken=document[_0x579512(0x126)]('btn-add-token');btnAddToken&&(btnAddToken[_0x579512(0x138)]=async()=>{const _0x18e05a=_0x579512;if(!currentTargetUser)return;const _0x56b858=parseInt(document['getElementById'](_0x18e05a(0x12f))[_0x18e05a(0x143)]),_0xdb7831=document[_0x18e05a(0x126)]('package-select')[_0x18e05a(0x143)];if(!_0x56b858||_0x56b858<=0x0)return alert(_0x18e05a(0x12c));if(!confirm(_0x18e05a(0x151)+_0x56b858+'\x20Tokens\x20cho\x20'+currentTargetUser['email']+'?'))return;btnAddToken[_0x18e05a(0x11b)]=!![],btnAddToken['textContent']='Đang\x20xử\x20lý...';try{await runTransaction(db,async _0x311634=>{const _0x37aa60=_0x18e05a,_0x5e58cb=doc(db,_0x37aa60(0x12b),currentTargetUser[_0x37aa60(0x121)]),_0x361487=doc(collection(db,'users',currentTargetUser[_0x37aa60(0x121)],_0x37aa60(0x135))),_0x47c571=await _0x311634[_0x37aa60(0x152)](_0x5e58cb);if(!_0x47c571[_0x37aa60(0x136)]())throw _0x37aa60(0x122);_0x311634[_0x37aa60(0x13c)](_0x5e58cb,{'tokens':increment(_0x56b858)}),_0x311634[_0x37aa60(0x12e)](_0x361487,{'packageName':_0xdb7831,'tokens':_0x56b858,'price':0x0,'method':_0x37aa60(0x131),'createdAt':serverTimestamp(),'status':_0x37aa60(0x13f)});}),alert(_0x18e05a(0x129)),resultBox[_0x18e05a(0x148)][_0x18e05a(0x137)](_0x18e05a(0x139)),document[_0x18e05a(0x126)](_0x18e05a(0x141))[_0x18e05a(0x143)]='';}catch(_0x5d7d35){alert('Lỗi\x20cộng\x20tiền:\x20'+_0x5d7d35[_0x18e05a(0x134)]);}finally{btnAddToken['disabled']=![],btnAddToken['textContent']=_0x18e05a(0x127);}});